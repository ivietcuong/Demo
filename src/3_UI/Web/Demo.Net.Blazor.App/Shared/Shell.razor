@inherits ComponentBase
@using Demo.Net.Blazor.App.Data
@using Demo.Net.Blazor.Shared
@using Demo.Net.Blazor.Shared.Controls


<div class="page">

    <div class="sidebar">

        <div class="top-row ps-3 navbar navbar-dark">
            <div class="container-fluid">
                <a class="navbar-brand" href="">Demo</a>
                <button title="Navigation menu" class="navbar-toggler" @onclick="ToggleNavMenu">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>
        </div>
        <div class="@NavMenuCssClass nav-scrollable" @onclick="ToggleNavMenu">
            <div class="d-grid gap-0">
                <ListBox TItem="IWorkspace" ItemSource=@Workspaces SelectionChanged=@NavigateToWorkspace>
                    <ItemTemplate>
                        <div>@context.Name</div>
                    </ItemTemplate>
                </ListBox>
                
            </div>
        </div>
    </div>

    <main>
        <article class="content px-4">

            @if (Workspace != null)
            {
                <DynamicComponent Type="@Workspace?.Type" Parameters="@Workspace?.Parameters" />
            }

        </article>
    </main>
</div>
